---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
import { Image, getImage } from 'astro:assets';

import HomeIconSrc from '../../public/Vector.svg';
const HomeIcon = await getImage({ src: HomeIconSrc});

const navItemsCenter = [
  {name: 'Home', route: '/'},
  {name: 'Team', route: '/team'},
  {name: 'Events', route: '/events'},
  {name: 'Projects', route: '/projects'},
  {name: 'Blog', route: '/blog'},
]

const navItemsRight = [
  {name: 'Linktree', route: 'https://go.wdcc.co.nz/'},
  {name: 'Join for 2024', route: 'https://forms.gle/YX8RAdXGF4rTN3e27'},
]
---

<script defer>
  function openMenu() {
    // Disable scrolling
    document.querySelector("body").style.overflowY = "hidden";
    // Show menu
    document.querySelector("#hamburg-options").style.display = "flex";
  }
  function closeMenu() {
    // Enable scrolling
    document.querySelector("body").style.overflowY = "auto";
    // Hide menu
    document.querySelector("#hamburg-options").style.display = "none";
  }
</script>

<header class="z-50 relative">
  <nav class="flex flex-row justify-between p-10 bg-transparent sticky items-center">
    <div>
      <a href="/" class="font-bold text-[#087df1] text-3xl lg:mr-8">WDCC</a>
    </div>
    <div class="flex md:hidden" onclick="openMenu()"><img width={40} src="/hamburg.svg" /></div>
    <!-- Mobile Menu -->
    <div style={{
      display: 'none'
    }} class="top-0 left-0 z-[999] rounded-xl fixed w-screen h-screen p-4 bg-white/50 backdrop-blur-lg shadow-sm" id="hamburg-options">
       <div class="flex flex-col justify-center items-center w-full h-full" onclick="closeMenu()">
        <div class="p-8 flex flex-col justify-center items-center gap-8 text-3xl">
          {navItemsCenter.concat(navItemsRight).map((item) => (
            <a href={item.route}>{item.name}</a>
          ))}
        </div>
       </div>
      </div>
      <!-- Desktop Menu -->
    <div class="hidden md:flex md:flex-row gap-4 lg:gap-8 mx-4 text-xl cursor-pointer">
      {navItemsCenter.map((item)=> (
            <a href={item.route}>{item.name}</a>
          ))}
    </div>
    <div class="hidden md:flex md:flex-row gap-4 lg:gap-8 text-center flex-shrink-0 text-xl cursor-pointer">
      {navItemsRight.map((item)=> (
            <a href={item.route}>{item.name}</a>
          ))}
    </div>
  </nav>
</header>